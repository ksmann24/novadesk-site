<!doctype html>
<html lang="en">
<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NovaDesk — AI Receptionist that books jobs 24/7</title>
  <meta name="description" content="Never miss another lead. NovaDesk responds instantly, qualifies, and books jobs to your calendar—24/7." />

  <!-- Canonical -->
  <link rel="canonical" href="https://www.NovaDeskApp.com/">

  <!-- Favicon (replace with your own) -->
  <link rel="icon" href="/favicon.ico" />

  <!-- Open Graph -->
  <meta property="og:title" content="NovaDesk — AI Receptionist that books jobs 24/7" />
  <meta property="og:description" content="Never miss another lead. NovaDesk responds instantly, qualifies, and books jobs to your calendar—24/7." />
  <meta property="og:url" content="https://www.NovaDeskApp.com/" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://www.NovaDeskApp.com/og-image.png" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="NovaDesk — AI Receptionist that books jobs 24/7" />
  <meta name="twitter:description" content="Never miss another lead. NovaDesk responds instantly, qualifies, and books jobs to your calendar—24/7." />
  <meta name="twitter:image" content="https://www.NovaDeskApp.com/og-image.png" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Minimal CSS (no framework) -->
  <style>
    :root {
      --bg: #0b1220;
      --card: #121a2a;
      --text: #eef2ff;
      --muted: #b7c1e1;
      --primary: #3b82f6;
      --primary-600: #2563eb;
      --accent: #22c55e;
      --ring: rgba(59,130,246,.35);
      --maxw: 1140px;
    }
    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    html, body { margin: 0; padding: 0; background: var(--bg); color: var(--text); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
    a { color: var(--primary); text-decoration: none; }
    a:hover { text-decoration: underline; }
    .container { width: 100%; margin: 0 auto; max-width: var(--maxw); padding: 0 20px; }
    header { position: sticky; top: 0; z-index: 40; backdrop-filter: blur(8px); background: rgba(11,18,32,.65); border-bottom: 1px solid rgba(255,255,255,.06); }
    .nav { display: flex; align-items: center; justify-content: space-between; height: 64px; }
    .brand { display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.2px; }
    .logo { width: 32px; height: 32px; }
    .nav-links { display:flex; gap:18px; align-items:center; }
    .hide-mobile { display:none; }
    .btn { display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:12px 16px; border-radius:10px; font-weight:600; border:1px solid rgba(255,255,255,.12); background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); color: var(--text); }
    .btn:hover { border-color: rgba(255,255,255,.25); }
    .btn-primary { background: linear-gradient(180deg, var(--primary), var(--primary-600)); border-color: transparent; }
    .btn-primary:hover { filter: brightness(1.05); }

.day-toolbar {
  display:flex; align-items:center; justify-content:space-between;
  gap:10px; margin:10px 0 6px;
}
.day-display { display:flex; align-items:center; gap:8px; }
.btn.small { padding:6px 10px; font-size:13px; }
.icon-btn {
  background:transparent; border:1px solid rgba(255,255,255,.12);
  border-radius:8px; padding:6px 8px; cursor:pointer; color:var(--text);
}
.btn.slot.selected { outline:2px solid var(--primary); background:rgba(59,130,246,.15); }

    .hero { padding: 72px 0 32px; background: radial-gradient(800px 400px at 60% -10%, rgba(59,130,246,.25), transparent), radial-gradient(600px 300px at 20% -10%, rgba(34,197,94,.18), transparent); }
    .hero-wrap { display:grid; grid-template-columns: 1.1fr .9fr; gap:40px; align-items:center; }
    h1 { font-size: clamp(32px, 5vw, 52px); line-height:1.06; margin: 0 0 12px; }
    .sub { color: var(--muted); font-size: clamp(16px, 2.2vw, 18px); margin: 0 0 22px; }
    .cta-row { display:flex; gap:12px; flex-wrap:wrap; align-items:center; }
    .badge { display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; font-size:12px; color:#c7f9d4; background: rgba(34,197,94,.18); border:1px solid rgba(34,197,94,.35); }
    .card { background: var(--card); border:1px solid rgba(255,255,255,.06); border-radius:16px; padding:18px; }
    .ui { height: 360px; border-radius:14px; background: linear-gradient(180deg, #0f172a, #0b1220); border:1px solid rgba(255,255,255,.06); position: relative; overflow:hidden; }
    .ui::after { content:""; position:absolute; inset:0; background: radial-gradient(500px 220px at 80% 0%, rgba(59,130,246,.13), transparent); pointer-events:none; }
    section { padding: 56px 0; }
    .grid-3 { display:grid; grid-template-columns: repeat(3, 1fr); gap:18px; }
    .grid-2 { display:grid; grid-template-columns: repeat(2, 1fr); gap:22px; }
    h2 { font-size: clamp(24px, 3.5vw, 36px); margin: 0 0 12px; }
    .muted { color: var(--muted); }
    .list { display:grid; gap:10px; margin: 14px 0 0; padding: 0; list-style: none; }
    .list li { display:flex; gap:10px; align-items:flex-start; }
    .check { color: var(--accent); font-weight: 900; }
    .pricing { display:grid; grid-template-columns: repeat(3, 1fr); gap:18px; }
    .price h3 { margin:0 0 8px; }
    .price .amt { font-size: 28px; font-weight: 700; }
    .foot { border-top:1px solid rgba(255,255,255,.08); padding: 24px 0; color: var(--muted); font-size:14px; }
    .menu { display:none; background:none; border:1px solid rgba(255,255,255,.2); color: var(--text); border-radius:8px; padding:8px 10px; }
    .mobile-panel { display:none; position: fixed; inset:64px 0 0 0; background: rgba(11,18,32,.98); padding: 18px; }
    .mobile-panel a { display:block; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,.06); }
    .bottom-sections { display: flex; gap: 40px; align-items: flex-start; flex-wrap: wrap; }
    .bottom-sections section { flex: 1; min-width: 300px; }

    /* Forms */
    form { display:grid; gap:10px; }
    input, textarea { width: 100%; padding: 12px 14px; border-radius:10px; background:#0f172a; border:1px solid rgba(255,255,255,.12); color: var(--text); }
    input:focus, textarea:focus { outline: 2px solid var(--ring); border-color: var(--primary); }
    .error { color:#ffb4b4; font-size:12px; margin-top:-6px; display:block; }
.error.hidden { display:none !important; }

    /* Responsive */
    @media (max-width: 980px) {
      .hero-wrap { grid-template-columns: 1fr; }
      .grid-3 { grid-template-columns: 1fr; }
      .grid-2 { grid-template-columns: 1fr; }
      .pricing { grid-template-columns: 1fr; }
      .hide-mobile { display:none; }
      .menu { display:inline-flex; }
    }

/* Utility */
.hidden { display: none !important; }

.visually-hidden {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0 0 0 0);
  white-space: nowrap; border: 0;
}

.icon-btn:hover { outline:2px solid var(--ring); }

@media (max-width: 520px) {
  .slots-toolbar { flex-wrap: wrap; gap: 8px; }
  .slots-toolbar > div, .slots-toolbar > button { flex: 1 0 auto; }
  .slots-toolbar .btn-row { margin-left: auto; }
}

  </style>

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "NovaDesk",
    "applicationCategory": "BusinessApplication",
    "operatingSystem": "Web",
    "offers": { "@type": "Offer", "priceCurrency": "USD", "price": "497", "description": "Monthly subscription" },
    "publisher": { "@type": "Organization", "name": "NovaDesk", "url": "https://www.NovaDeskApp.com" }
  }
  </script>
</head>
<body>

<header>
  <div class="container nav" role="navigation" aria-label="Main">
    <a class="brand" href="#top"><img src="/logo-nd.png" alt="NovaDesk logo" class="logo" /><span>NovaDesk</span></a>
    <nav class="nav-links hide-mobile" aria-label="Primary">
      <a href="#features">Features</a>
      <a href="#how">How it works</a>
      <a href="#pricing">Pricing</a>
      <a href="#contact">Contact</a>
      <a class="btn btn-primary" href="#booking" aria-label="Book a 7-minute demo">Book demo</a>
    </nav>
    <button class="menu" aria-label="Open menu" onclick="toggleMenu()">Menu</button>
  </div>
  <div id="mobilePanel" class="mobile-panel" role="dialog" aria-modal="true" aria-labelledby="mnav" hidden>
    <div class="container">
      <strong id="mnav" style="display:block; margin-bottom:6px;">Menu</strong>
      <a href="#features" onclick="toggleMenu(true)">Features</a>
      <a href="#how" onclick="toggleMenu(true)">How it works</a>
      <a href="#pricing" onclick="toggleMenu(true)">Pricing</a>
      <a href="#contact" onclick="toggleMenu(true)">Contact</a>
      <a class="btn btn-primary" href="#booking" onclick="toggleMenu(true)">Book demo</a>
    </div>
  </div>
</header>

<main id="top">
  <!-- HERO -->
  <section class="hero">
    <div class="container hero-wrap">
      <div>
        <span class="badge">New • AI Receptionist</span>
        <h1>Never miss another lead.<br/>NovaDesk books jobs <span style="color:var(--accent)">24/7</span>.</h1>
        <p class="sub">Instantly replies to missed calls & web forms, qualifies with 3–5 questions, and <strong>books directly to your calendar</strong>. More bookings from the leads you already have.</p>
        <div class="cta-row" id="demo">
          <a class="btn btn-primary" href="#booking">Book a 7-minute demo</a>
          <a class="btn" href="#contact">Talk to sales</a>
        </div>
        <p class="muted" style="margin-top:8px;">Typical boost: <strong>+20–40% more booked jobs</strong> within 1–2 weeks.</p>
      </div>
      <div class="card ui" aria-hidden="true">
        <div style="position:absolute; inset:18px; display:grid; gap:10px;">
          <div class="card" style="background:#0b1220;border-color:rgba(255,255,255,.08)">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <strong>Missed Call Text-Back</strong><span style="font-size:12px;color:var(--muted)">Active</span>
            </div>
            <p class="muted" style="margin:6px 0 0">“Hey! We saw your call—can we help with a <em>water heater issue</em>? I can book you now.”</p>
          </div>
          <div class="card" style="display:grid;grid-template-columns:1fr auto;align-items:center;">
            <div>
              <strong>Auto Qualification</strong>
              <p class="muted" style="margin:4px 0 0">Zip code • Problem type • Timing • Photo (optional)</p>
            </div>
            <button class="btn btn-primary" type="button">Book Friday 10:00 AM</button>
          </div>
          <div class="card"><strong>Daily Summary</strong><p class="muted" style="margin:4px 0 0">12 new leads • 7 bookings • Avg response: 14s • 4 new reviews</p></div>
        </div>
      </div>
    </div>
  </section>

  <!-- FEATURES -->
  <section id="features">
    <div class="container">
      <h2>Why teams choose NovaDesk</h2>
      <p class="muted">A receptionist that never sleeps—without hiring.</p>
      <div class="grid-3" style="margin-top:18px">
        <div class="card">
          <h3>Instant response</h3>
          <p class="muted">Reply to every missed call or form in &lt;60 seconds—automatically.</p>
          <ul class="list">
            <li><span class="check">✔</span> SMS follow-ups</li>
            <li><span class="check">✔</span> After-hours coverage</li>
            <li><span class="check">✔</span> SLA-friendly timings</li>
          </ul>
        </div>
        <div class="card">
          <h3>Book more jobs</h3>
          <p class="muted">Ask 3–5 qualifiers and book directly on your calendar.</p>
          <ul class="list">
            <li><span class="check">✔</span> No back-and-forth</li>
            <li><span class="check">✔</span> Google/Outlook/Calendly</li>
            <li><span class="check">✔</span> Reduce no-shows</li>
          </ul>
        </div>
        <div class="card">
          <h3>Reputation engine</h3>
          <p class="muted">Auto-request reviews; auto-reply with your brand voice.</p>
          <ul class="list">
            <li><span class="check">✔</span> Review requests</li>
            <li><span class="check">✔</span> Smart reply templates</li>
            <li><span class="check">✔</span> Weekly report</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section id="how">
    <div class="container grid-2">
      <div>
        <h2>How it works</h2>
        <ol class="list" style="counter-reset:step; gap:14px;">
          <li><span class="check">1</span> Connect your number & calendar (15 minutes)</li>
          <li><span class="check">2</span> We turn on SMS reply + qualifiers + booking</li>
          <li><span class="check">3</span> You get a daily summary and more bookings</li>
        </ol>
        <p class="muted" style="margin-top:10px;">Prefer a white-glove setup? We’ll do it for you—same day.</p>
        <div class="cta-row"><a class="btn btn-primary" href="#booking">See a live demo</a></div>
      </div>
      <div class="card">
        <p class="muted">Built for local & appointment-based businesses.</p>
        <div class="grid-2">
          <ul class="list">
            <li><span class="check">✔</span> Plumbing</li>
            <li><span class="check">✔</span> HVAC</li>
            <li><span class="check">✔</span> Roofing</li>
          </ul>
          <ul class="list">
            <li><span class="check">✔</span> Med-spa & Dental</li>
            <li><span class="check">✔</span> Legal Intake</li>
            <li><span class="check">✔</span> Home Services</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- PRICING -->
  <section id="pricing">
    <div class="container">
      <h2>Simple pricing</h2>
      <p class="muted">Cancel anytime. No contracts. Pro setup included.</p>
      <div class="pricing" style="margin-top:18px">
        <div class="card price">
          <h3>Starter</h3>
          <div class="amt">$297</div>
          <p class="muted">First month pilot, then $497/mo</p>
          <ul class="list">
            <li><span class="check">✔</span> SMS reply & qualifiers</li>
            <li><span class="check">✔</span> Calendar booking</li>
            <li><span class="check">✔</span> Daily summary</li>
          </ul>
          <div class="cta-row" style="margin-top:12px"><a class="btn btn-primary" href="#booking">Start pilot</a></div>
        </div>
        <div class="card price" style="border-color: rgba(34,197,94,.55)">
          <h3>Standard</h3>
          <div class="amt">$497</div>
          <p class="muted">Per location / month</p>
          <ul class="list">
            <li><span class="check">✔</span> Everything in Starter</li>
            <li><span class="check">✔</span> Review requests + replies</li>
            <li><span class="check">✔</span> Weekly report</li>
          </ul>
          <div class="cta-row" style="margin-top:12px"><a class="btn btn-primary" href="#booking">Get started</a></div>
        </div>
        <div class="card price">
          <h3>Pro</h3>
          <div class="amt">$797</div>
          <p class="muted">Multi-location / month</p>
          <ul class="list">
            <li><span class="check">✔</span> Priority support & SLAs</li>
            <li><span class="check">✔</span> Multi-location analytics</li>
            <li><span class="check">✔</span> White-label option</li>
          </ul>
          <div class="cta-row" style="margin-top:12px"><a class="btn btn-primary" href="#contact">Talk to sales</a></div>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTACT + DEMO -->
  <section id="contact">
    <div class="container bottom-sections">

<!-- BOOK DEMO -->
      <section class="calendly" id="booking">
        <h2>Book a 7-minute demo</h2>

        <form id="book-demo" onsubmit="return submitBooking(event)" class="card" style="display:grid;gap:10px; padding:16px; border-radius:12px; max-width:520px" novalidate>
          <label for="bname">Name</label>
          <input id="bname" name="name" type="text" autocomplete="name" required required placeholder="Jane Doe" />
<small class="error hidden" data-error="name">Please enter your name</small>

          <label for="bemail">Email</label>
          <input id="bemail" name="email" type="email" autocomplete="email" required placeholder="you@example.com" />
          <small class="error hidden" data-error="email">Please enter a valid email address</small>

          <label for="bphone">Phone</label>
          <input id="bphone" name="phone" type="tel" inputmode="tel" placeholder="(555) 123-4567" autocomplete="tel" required />
          <small class="error hidden" data-error="phone">Please enter a valid phone number</small>

          <p class="muted" style="font-size:12px;margin-top:4px;">
            By providing your phone number, you agree to receive SMS messages from NovaDesk related to scheduling and your inquiry.
            Message &amp; data rates may apply. Reply <strong>STOP</strong> to opt out or <strong>HELP</strong> for help.
          </p>

          <!-- Slot picker -->
<div id="slot-picker" class="card" style="padding:16px;margin-top:8px">
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
    <strong>Available times</strong>
    <div class="slots-toolbar" style="display:flex;align-items:center;gap:10px;justify-content:space-between;margin:10px 0 6px 0">
  <!-- left spacer keeps the center truly centered -->
  <div style="width:88px"></div>

  <!-- Center: calendar button -->
  <button id="slots-calendar" class="icon-btn" type="button" aria-label="Pick a date" title="Pick a date"
          style="display:inline-flex;align-items:center;gap:6px;padding:8px 10px;border:1px solid rgba(255,255,255,.12);border-radius:10px;background:#0f172a;color:var(--text)">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <rect x="3" y="4" width="18" height="18" rx="2" stroke="currentColor" stroke-width="1.5"/>
      <path d="M7 2v4M17 2v4M3 9h18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
    </svg>
    <span class="hide-mobile">Pick date</span>
  </button>

  <!-- Right: Prev/Next together -->
  <div class="btn-row" style="display:flex;gap:8px;align-items:center;min-width:88px;justify-content:flex-end">
    <button id="slots-prev" class="btn" type="button" aria-label="Previous day">‹ Prev</button>
    <button id="slots-next" class="btn" type="button" aria-label="Next day">Next ›</button>
  </div>

  <!-- Keep the native date input hidden; script uses it -->
  <input id="slot-date" type="date" class="visually-hidden" />
</div>

  </div>
  <div id="slots" style="display:grid;gap:8px"></div>
</div>

<!-- Hidden fields the picker will set -->
<input type="hidden" id="bStartIso" />
<input type="hidden" id="bEndIso" />

          <button id="book-submit" class="btn btn-primary" type="submit">Book Demo</button>
          <p id="bstatus" class="muted" style="margin-top:8px;" aria-live="polite"></p>
        </form>
      </section>


     <!-- TALK TO SALES -->
<section id="sales" style="flex:1; min-width:300px;">
  <h2 style="margin:0 0 12px 0">Talk to sales</h2>

  <form id="contactForm"
        class="card"
        style="display:grid;gap:10px; padding:16px; border-radius:12px; max-width:520px"
        novalidate>

    <label for="c-name">Name</label>
    <input id="c-name" name="name" type="text" required placeholder="John Doe" />
    <small class="error hidden" data-error="name">Please enter your name</small>

    <label for="c-email">Email</label>
    <input id="c-email" name="email" type="email" inputmode="email" required placeholder="you@example.com" />
    <small class="error hidden" data-error="email">Please enter a valid email address</small>

    <label for="c-phone">Phone</label>
    <input id="c-phone" name="phone" type="tel" inputmode="tel" autocomplete="tel" required placeholder="(615) 555-0123" />
    <small class="error hidden" data-error="phone">Please enter a valid phone number</small>

    <p class="muted" style="font-size:12px;margin-top:4px;">
      By providing your phone number, you agree to receive SMS messages from NovaDesk related to scheduling and your inquiry.
      Message &amp; data rates may apply. Reply <strong>STOP</strong> to opt out or <strong>HELP</strong> for help.
    </p>

    <label for="c-msg">Message</label>
    <textarea id="c-msg" name="message" rows="4"
  placeholder="Tell us a little about your business…" required></textarea>
<small class="error hidden" data-error="message">Please tell us a little about your business</small>

    <button id="c-submit" type="submit" class="btn btn-primary">Send</button>

    <!-- success/error — hidden until shown by JS -->
    <p id="c-success" class="hidden" style="color:#22c55e;" aria-live="polite">Thanks! We received your message and will reply shortly.</p>
    <p id="c-fail" class="hidden" style="color:#ff6b6b;" aria-live="polite">Oops — couldn’t send your message. Please try again.</p>

    <p class="muted" style="font-size:12px;margin-top:8px;">
      By submitting, you agree to our <a href="/privacy.html">Privacy Policy</a>.
    </p>
  </form>
</section>

      

      

    </div>
  </section>
</main>

<footer class="foot">
  <div class="container" style="display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;">
    <div>© <span id="year"></span> NovaDesk. All rights reserved.</div>
    <div>
      <a href="/privacy.html">Privacy</a> ·
      <a href="/terms.html">Terms</a> ·
      <a href="mailto:hello@NovaDeskApp.com">hello@NovaDeskApp.com</a>
    </div>
  </div>
</footer>

<script>
  // Mobile menu
  function toggleMenu(close) {
    const panel = document.getElementById('mobilePanel');
    const isHidden = panel.hasAttribute('hidden');
    if (close || !isHidden) {
      panel.style.display = 'none';
      panel.setAttribute('hidden', '');
    } else {
      panel.style.display = 'block';
      panel.removeAttribute('hidden');
    }
  }
  // Year
  document.getElementById('year').textContent = new Date().getFullYear();
</script>

<!-- SALES FORM SUBMIT (to /contact) with sequential validation -->
<script>
  (function () {
    const form = document.getElementById('contactForm');
    if (!form) return;

    const fields = {
      name:  form.querySelector('[name="name"]'),
      email: form.querySelector('[name="email"]'),
      phone: form.querySelector('[name="phone"]'),
      message: form.querySelector('[name="message"]'),
    };
    const errs = {
      name:  form.querySelector('[data-error="name"]'),
      email: form.querySelector('[data-error="email"]'),
      phone: form.querySelector('[data-error="phone"]'),
      message: form.querySelector('[data-error="message"]'),
    };
    const successEl = document.getElementById('c-success');
    const failEl    = document.getElementById('c-fail');
    const submitBtn = document.getElementById('c-submit');

    // live phone mask
    fields.phone.addEventListener('input', () => {
      fields.phone.value = formatUSPhone(fields.phone.value);
    });

    function hideAllErrors(){ Object.values(errs).forEach(el => el && el.classList.add('hidden')); }
    function firstInvalid(){
      if (!fields.name.value.trim()) return 'name';
      if (!isValidEmail(fields.email.value)) return 'email';
      if (!isValidPhone10(fields.phone.value)) return 'phone';
      if (!fields.message.value.trim()) return 'message';
      return null;
    }

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      hideAllErrors();
      successEl.classList.add('hidden');
      failEl.classList.add('hidden');

      const bad = firstInvalid();
      if (bad) {
        errs[bad].classList.remove('hidden');
        fields[bad].focus();
        return;
      }

      // ready to submit
      submitBtn.disabled = true;
      submitBtn.textContent = 'Sending…';
      try {
        const res = await fetch('/contact', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            name: fields.name.value.trim(),
            email: fields.email.value.trim(),
            phone: fields.phone.value.trim(),
            message: fields.message.value.trim()
          })
        });
        if (res.ok) {
          successEl.classList.remove('hidden');
          form.reset();
        } else {
          failEl.classList.remove('hidden');
        }
      } catch {
        failEl.classList.remove('hidden');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Send';
      }
    });

    // per-field hide-on-input
    Object.keys(fields).forEach(k => {
      fields[k].addEventListener('input', () => errs[k].classList.add('hidden'));
      fields[k].addEventListener('blur',  () => {
        // Show only if it’s currently the first invalid
        hideAllErrors();
        const bad = firstInvalid();
        if (bad) errs[bad].classList.remove('hidden');
      });
    });
  })();
</script>


<!-- DEMO BOOKING (talks to your API) -->
<script>
  // ----- CONFIGURE THIS -----
  const GAS_BASE = "https://script.google.com/macros/s/AKfycbyppwxP8HUQCqvKE_bO_sBn3yrHHHF7r3rNGzktuc-HF82uWXgUuP7FbzcdDCW4DfLF/exec";
  const DEMO_MIN = 7;      // meeting length for calendar event
  const DURATION_MIN = 30; // slot length the picker will use
  const DAYS_AHEAD = 14;   // show up to 14 days out

  function getBErr(key) {
    return document.querySelector(`#book-demo [data-error="${key}"]`);
  }
  function hideBAll() {
    ['name','email','phone'].forEach(k => getBErr(k)?.classList.add('hidden'));
  }
  function firstBadDemo(name, email, phone) {
    if (!name.trim()) return 'name';
    if (!isValidEmail(email)) return 'email';
    if (!isValidPhone10(phone)) return 'phone';
    return null;
  }

  async function submitBooking(e) {
  e.preventDefault();
  const form = document.getElementById('book-demo');
  const statusEl = document.getElementById('bstatus');

  const name  = document.getElementById('bname').value.trim();
  const email = document.getElementById('bemail').value.trim();
  const phone = document.getElementById('bphone').value.trim();

  // sequential field validation (you already have helpers wired)
  hideBAll();
  const bad = firstBadDemo(name, email, phone);
  if (bad) {
    const badEl = {name:'bname', email:'bemail', phone:'bphone'}[bad];
    getBErr(bad).classList.remove('hidden');
    document.getElementById(badEl).focus();
    return false;
  }

  // pull start/end from slot picker hidden inputs
  const startIso = document.getElementById('bStartIso').value;
  const endIso   = document.getElementById('bEndIso').value;
  if (!startIso || !endIso) {
    statusEl.textContent = "Please pick a time.";
    return false;
  }

  const phoneE164 = toE164US(phone);
  if (!phoneE164) {
    getBErr('phone')?.classList.remove('hidden');
    document.getElementById('bphone').focus();
    return false;
  }

  statusEl.textContent = "Booking...";

  try {

        // Apps Script: POST ?action=book  (body: { name,email,phone,startIso,endIso })
    const res = await fetch(`${GAS_BASE}?action=book`, {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({
        name,
        email,
        phone: phoneE164,     // keep E.164 (+1XXXXXXXXXX)
        startIso,
        endIso
      })
    });

    const data = await res.json().catch(() => ({}));

    if (res.ok && data.ok) {
      statusEl.textContent = "Booked! We’ve emailed your confirmation and calendar invite.";
      form.reset();
      // clear any selected slot in UI
      document.querySelectorAll('[data-slot].selected').forEach(b => b.classList.remove('selected'));
      document.getElementById('bStartIso').value = '';
      document.getElementById('bEndIso').value = '';
    } else {
      statusEl.textContent = `Error: ${data.error || 'Failed to create event'}`;
    }
  } catch {
    statusEl.textContent = "Network error. Please try again.";
  }
  return false;
}

  // Live mask for the demo phone field
  (function(){
    const bphone = document.getElementById('bphone');
    if (bphone) {
      bphone.addEventListener('input', () => {
        bphone.value = formatUSPhone(bphone.value);
      });
    }
  })();
</script>


<!-- Shared helpers (masking + validation) -->
<script>
  // helpers
  function digitsOnly(s) { return String(s || '').replace(/\D/g, ''); }
  function formatUSPhone(input) {
    const d = digitsOnly(input).slice(0, 10);
    if (!d) return '';
    if (d.length < 4) return `(${d}`;
    if (d.length < 7) return `(${d.slice(0,3)}) ${d.slice(3)}`;
    return `(${d.slice(0,3)}) ${d.slice(3,6)}-${d.slice(6)}`;
  }
function toE164US(input) {
  const d = (String(input||'').replace(/\D/g,'')); 
  if (d.length === 10) return `+1${d}`;
  if (d.length === 11 && d.startsWith('1')) return `+${d}`;
  return null;
}
function formatPhoneLocal(input) { return formatUSPhone(input); }
  function isValidPhone10(input) { return digitsOnly(input).length === 10; }
  function isValidEmail(s) { return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(s || '').trim()); }
  function show(el) { el && el.classList.remove('hidden'); }
  function hide(el) { el && el.classList.add('hidden'); }

  /**
   * Sequential validator:
   * - Shows only the FIRST invalid field's message (top -> bottom).
   * - Focuses that field.
   * - On blur / input, hides the message once valid.
   * fieldsOrder = ['name','email','phone','message'] (we skip ones that don't exist in the form)
   */
  function wireSequentialValidation(formId, submitBtnId, options = {}) {
    const form = document.getElementById(formId);
    if (!form) return;

    const submitBtn = submitBtnId ? document.getElementById(submitBtnId) : null;
    const fieldsOrder = options.fieldsOrder || ['name','email','phone','message'];

    // map field elements and error <small data-error="...">
    const els = {};
    const errs = {};
    fieldsOrder.forEach(key => {
      els[key]  = form.querySelector(`[name="${key}"]`);
      errs[key] = form.querySelector(`[data-error="${key}"]`);
    });

    // live phone formatting if present
    if (els.phone) {
      els.phone.addEventListener('input', () => {
        els.phone.value = formatUSPhone(els.phone.value);
      });
    }

    function fieldValid(key) {
      const el = els[key];
      if (!el) return true; // missing field is "valid"/ignored
      const val = el.value || '';
      switch (key) {
        case 'name': return !!val.trim();
        case 'email': return isValidEmail(val);
        case 'phone': return isValidPhone10(val);
        case 'message': return !!val.trim(); // required per your spec
        default: return !!val.trim();
      }
    }

    function hideAllErrors() {
      fieldsOrder.forEach(k => hide(errs[k]));
    }

    function firstInvalidKey() {
      for (const k of fieldsOrder) {
        if (els[k] && !fieldValid(k)) return k;
      }
      return null;
    }

    // show next invalid on submit
    form.addEventListener('submit', (e) => {
      hideAllErrors();
      const bad = firstInvalidKey();
      if (bad) {
        e.preventDefault();
        show(errs[bad]);
        els[bad].focus();
        return false;
      }
      // allow submit to continue (your existing submit handler or default action)
      return true;
    });

    // when user fixes a field, hide its error; on blur, if still bad, show it (only if it’s the first invalid)
    fieldsOrder.forEach(k => {
      const el = els[k];
      if (!el) return;

      el.addEventListener('input', () => {
        if (fieldValid(k)) hide(errs[k]);
      });

      el.addEventListener('blur', () => {
        // Only show if this field is *currently* the first invalid
        const bad = firstInvalidKey();
        if (bad === k) show(errs[k]); else hide(errs[k]);
      });
    });
  }

  // Wire both forms:
  // contact/talk-to-sales
  wireSequentialValidation('contactForm', 'c-submit', { fieldsOrder: ['name','email','phone','message'] });

  // book-a-demo (if you don't have a message field here, it will be ignored automatically)
  wireSequentialValidation('book-demo', 'book-submit', { fieldsOrder: ['name','email','phone'] });

</script>

<script>
(() => {
  // ========= Config (reuses your earlier constants) =========
  const START_HOUR = 8;          // first slot start hour (local time)
  const LAST_START_MINUTES_WEEKDAY = 16 * 60 + 30; // 4:30 PM
const LAST_START_MINUTES_SAT     = 11 * 60 + 30; // 11:30 AM
  const SLOTS_PER_BATCH = 6;     // show 6 at a time
  const MIN_OFFSET_DAYS = 3;     // require 3 days notice

  // Utilities
  const fmtDate = (d) => d.toISOString().slice(0,10);
  const addDays = (d, n) => { const x = new Date(d); x.setDate(x.getDate()+n); return x; };
  const labelDay = (isoDate) => {
    const d = new Date(isoDate + 'T00:00:00');
    return d.toLocaleDateString(undefined, { weekday: 'short', month: 'short', day: 'numeric' });
  };
  const labelTime = (isoLocal) => {
    const d = new Date(isoLocal);
    return d.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });
  };

  // DOM
  const elSlots  = document.getElementById('slots');
  const elPrev   = document.getElementById('slots-prev');
  const elNext   = document.getElementById('slots-next');
  const elStart  = document.getElementById('bStartIso');
  const elEnd    = document.getElementById('bEndIso');
    const elDate = document.getElementById('slot-date'); // optional date input if present

  // Calendar button opens the hidden native date picker
  (function () {
    const calendarBtn = document.getElementById('slots-calendar');
    const dateInput   = document.getElementById('slot-date');
    if (calendarBtn && dateInput) {
      calendarBtn.addEventListener('click', () => {
        if (dateInput.showPicker) dateInput.showPicker();
        else { dateInput.focus(); dateInput.click(); }
      });
    }
  })();

  // State
  const minDate  = addDays(new Date(), MIN_OFFSET_DAYS);
  let pageStart  = new Date(minDate); // always begin at the first allowed day
  let allSlotsForDay = [];            // full filtered slot list for current day
  let shownCount = 0;                 // how many of today's slots are currently rendered

  // Wire min on optional date picker, if present
  if (elDate) {
    elDate.min = fmtDate(minDate);
    elDate.value = fmtDate(pageStart);
    elDate.addEventListener('change', () => {
      const picked = new Date(elDate.value + 'T00:00:00');
      pageStart = picked < minDate ? new Date(minDate) : picked;
      loadDay();
    });
  }

  function clearSelected() {
    document.querySelectorAll('[data-slot]').forEach(btn => btn.classList.remove('selected'));
  }
  function applySelected(startIso, endIso, btn) {
    clearSelected();
    btn.classList.add('selected');
    elStart.value = startIso;
    elEnd.value   = endIso;
  }

function withinHours(slot) {
  // slot.start is local ISO, e.g. "2025-10-07T10:30:00"
  const d   = new Date(slot.start);
  const dow = d.getDay(); // 0=Sun, 6=Sat

  // If you want Sunday closed entirely, uncomment next line:
  if (dow === 0) return false;

  const startMins = d.getHours() * 60 + d.getMinutes();
  const lastStartMinutes =
    (dow === 6) ? LAST_START_MINUTES_SAT : LAST_START_MINUTES_WEEKDAY;

  // Earliest start is START_HOUR:00, latest start depends on weekday/Sat
  return startMins >= START_HOUR * 60 && startMins <= lastStartMinutes;
}

      async function fetchDaySlots(isoDate) {
    // Apps Script: GET ?action=availability&date=YYYY-MM-DD&durationMin=30
      const url = `${GAS_BASE}?action=availability&date=${isoDate}&durationMin=${DURATION_MIN}`;
  const res = await fetch(url, { method: 'GET' });
  const raw = await res.text();                         // ← debug
  console.log('[avail raw]', res.status, url, raw);     // ← debug
  if (!res.ok) throw new Error(`availability failed: ${res.status}`);
  return JSON.parse(raw);
  }

  function renderBatch(container, fromIndex) {
  const toIndex = Math.min(fromIndex + SLOTS_PER_BATCH, allSlotsForDay.length);

  for (let i = fromIndex; i < toIndex; i++) {
    const s = allSlotsForDay[i];

    // For display: prefer local ISO if provided; otherwise convert UTC -> local
    const displayStartIso = s.start || (s.startUtc ? new Date(s.startUtc).toISOString() : '');
    const displayEndIso   = s.end   || (s.endUtc   ? new Date(s.endUtc).toISOString()   : '');

    const btn = document.createElement('button');
    btn.type = 'button';
    // Keep a marker for selection state; also stash UTC explicitly
    btn.dataset.slot = s.startUtc || s.start || '';
    btn.dataset.startUtc = s.startIsoUtc || s.startUtc || (s.start ? new Date(s.start).toISOString() : '');
    btn.dataset.endUtc   = s.endIsoUtc   || s.endUtc   || (s.end   ? new Date(s.end).toISOString()   : '');
    btn.className = 'btn slot';
    btn.textContent = `${labelTime(displayStartIso)} – ${labelTime(displayEndIso)}`;

    btn.addEventListener('click', () => {
  // Always use local wall-clock times (no Z) to avoid off-by-one-day bugs
  const startIso = s.start;   // e.g., "2025-10-24T08:00:00"
  const endIso   = s.end;     // e.g., "2025-10-24T08:30:00"
  applySelected(startIso, endIso, btn);
});

    container.appendChild(btn);
  }

  shownCount = toIndex;
}

  async function loadDay() {
    
    elSlots.innerHTML = '';
    elStart.value = '';
    elEnd.value   = '';
    shownCount    = 0;

    // guard next/prev buttons
        const maxDate = addDays(minDate, DAYS_AHEAD); // inclusive window end
    elPrev.disabled = fmtDate(pageStart) <= fmtDate(minDate);
    // Disable NEXT if stepping one day would go beyond maxDate
    elNext.disabled = fmtDate(addDays(pageStart, 1)) > fmtDate(maxDate);


    const iso = fmtDate(pageStart);

    // Day header
    const dayWrap = document.createElement('div');
    dayWrap.style.border = '1px solid rgba(255,255,255,.12)';
    dayWrap.style.borderRadius = '10px';
    dayWrap.style.padding = '10px';

    const title = document.createElement('div');
    title.style.fontWeight = '600';
    title.style.marginBottom = '6px';
    title.textContent = labelDay(iso);
    dayWrap.appendChild(title);

    const list = document.createElement('div');
    list.style.display = 'flex';
    list.style.flexWrap = 'wrap';
    list.style.gap = '8px';
    dayWrap.appendChild(list);

    // Load
    try {
      const data = await fetchDaySlots(iso); // { slots: [...], ... }
      // Filter to working hours and sort by start time (just in case)
      allSlotsForDay = (data.slots || [])
        .filter(withinHours)
        .sort((a, b) => new Date(a.start) - new Date(b.start));

      if (!allSlotsForDay.length) {
        const msg = document.createElement('div');
        msg.style.opacity = '.8';
        msg.style.fontSize = '14px';
        msg.textContent = 'No available times for this day.';
        list.appendChild(msg);
      } else {
        renderBatch(list, 0);
        
      }
    } catch (e) {
      const msg = document.createElement('div');
      msg.style.opacity = '.8';
      msg.style.fontSize = '14px';
      msg.textContent = 'Could not load time slots.';
      list.appendChild(msg);
    }

    // Load more button
    const moreWrap = document.createElement('div');
    moreWrap.style.marginTop = '10px';
    const moreBtn = document.createElement('button');
    moreBtn.type = 'button';
    moreBtn.className = 'btn';
    moreBtn.textContent = 'Load more';
    moreBtn.addEventListener('click', () => {
      renderBatch(list, shownCount);
      if (shownCount >= allSlotsForDay.length) moreBtn.disabled = true;
      
    });
    if (allSlotsForDay.length <= SLOTS_PER_BATCH) moreBtn.style.display = 'none';
    moreWrap.appendChild(moreBtn);
    dayWrap.appendChild(moreWrap);

    elSlots.appendChild(dayWrap);
  }

  // Prev/Next handlers (exactly one day step, with min guard)
  elPrev?.addEventListener('click', () => {
    const prev = addDays(pageStart, -1);
    pageStart = prev < minDate ? new Date(minDate) : prev;
    if (elDate) elDate.value = fmtDate(pageStart);
    loadDay();
  });
  elNext?.addEventListener('click', () => {
    pageStart = addDays(pageStart, 1);
    if (elDate) elDate.value = fmtDate(pageStart);
    loadDay();
  });

  // Hook booking button to require a selected slot (keeps your existing submit logic)
    const bookBtn = document.querySelector('#book-submit, button[data-book-submit], #bookBtn');
if (bookBtn) {
  bookBtn.addEventListener('click', (e) => {
    if (!elStart.value || !elEnd.value) {
      e.preventDefault();

      // Show a gentle prompt near the booking status
      const statusEl = document.getElementById('bstatus');
      if (statusEl) {
        statusEl.textContent = 'Please pick a time.';
        statusEl.style.color = '#ffb4b4';
      }

      // Move focus to the first visible slot to guide the user
      const firstSlotBtn = document.querySelector('.slot-grid .slot, #slot-grid .slot');
      if (firstSlotBtn) firstSlotBtn.focus();

      return false;
    }
    // if we have both hidden inputs, allow your normal handler to proceed
  }, { capture: true });
}

  // Initial load
  loadDay();
})();
</script>



</body>
</html>
